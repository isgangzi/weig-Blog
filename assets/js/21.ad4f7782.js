(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{450:function(r,t,e){"use strict";e.r(t);var a=e(12),n=Object(a.a)({},(function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("p",[r._v("以下是我在使用过程中")]),r._v(" "),e("ul",[e("li",[r._v("遇到的坑")]),r._v(" "),e("li",[r._v("解决的问题")]),r._v(" "),e("li",[r._v("一些总结")])]),r._v(" "),e("p",[r._v("其中还有很多不足，大家可以慢慢一起完善"),e("br"),r._v("希望可以帮助到大家，大家一起进步一起成长")]),r._v(" "),e("hr"),r._v(" "),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[r._v("#")]),r._v(" 安装")]),r._v(" "),e("p",[e("strong",[r._v("建议 ubuntu16.4/18.4")]),e("br"),e("strong",[r._v("安装说明自行百度不做介绍")]),e("br"),e("strong",[r._v("​")])]),r._v(" "),e("p",[r._v("安装docker"),e("br"),e("a",{attrs:{href:"https://blog.csdn.net/jinking01/article/details/82490688",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://blog.csdn.net/jinking01/article/details/82490688"),e("OutboundLink")],1),e("br"),r._v("安装nvidia-docker 参考官方"),e("br"),e("a",{attrs:{href:"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#installing-docker-ce",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#installing-docker-ce"),e("OutboundLink")],1)]),r._v(" "),e("hr"),r._v(" "),e("h2",{attrs:{id:"测试可用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试可用"}},[r._v("#")]),r._v(" 测试可用")]),r._v(" "),e("h3",{attrs:{id:"检验cuda是否安装正确-能否被pytorch检测到"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检验cuda是否安装正确-能否被pytorch检测到"}},[r._v("#")]),r._v(" 检验cuda是否安装正确&能否被pytorch检测到")]),r._v(" "),e("ol",[e("li",[r._v("import torch")]),r._v(" "),e("li",[r._v("import torchvision")]),r._v(" "),e("li",[r._v("print(torch.cuda.is_available())")])]),r._v(" "),e("p",[e("code",[r._v('python -c "import torch;print(torch.cuda.is_available())"')]),e("br"),r._v("​"),e("br")]),r._v(" "),e("h3",{attrs:{id:"测试pytorch能不能调用cuda加速"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试pytorch能不能调用cuda加速"}},[r._v("#")]),r._v(" 测试pytorch能不能调用cuda加速")]),r._v(" "),e("ol",[e("li",[r._v("a = torch.Tensor(5,3)")]),r._v(" "),e("li",[r._v("a=a.cuda()")]),r._v(" "),e("li",[r._v("print(a)")])]),r._v(" "),e("p",[e("code",[r._v('python -c "import torch;print(torch.cuda.is_available());a = torch.Tensor(5,3);a=a.cuda();print(a)"')]),e("br"),r._v("​"),e("br")]),r._v(" "),e("hr"),r._v(" "),e("h2",{attrs:{id:"基本操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本操作"}},[r._v("#")]),r._v(" 基本操作")]),r._v(" "),e("h3",{attrs:{id:"基础命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础命令"}},[r._v("#")]),r._v(" 基础命令")]),r._v(" "),e("p",[r._v("镜像可取docker hub 自行下载 不做介绍"),e("br"),r._v(" "),e("br"),e("strong",[r._v("查看当前使用pytorch的版本")]),e("br"),r._v("import torch"),e("br"),r._v("print(torch."),e("strong",[r._v("__version")]),r._v(") #注意是双下划线"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("查看docker服务是否启动：")]),e("br"),r._v("systemctl status docker"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("启动docker服务")]),r._v("："),e("br"),r._v("sudo systemctl start docker"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("查看docker版本信息")]),e("br"),r._v("docker --version"),e("br"),r._v("docker version"),e("br"),r._v("docker info"),e("br"),r._v("​"),e("br")]),r._v(" "),e("h3",{attrs:{id:"🌈-重要的命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🌈-重要的命令"}},[r._v("#")]),r._v(" 🌈 重要的命令")]),r._v(" "),e("ul",[e("li",[r._v("加载   docker load -i name")]),r._v(" "),e("li",[r._v("🔥 "),e("strong",[r._v("查看镜像  docker iamges")])]),r._v(" "),e("li",[r._v("🔥 "),e("strong",[r._v("查看容器  docker ps")])]),r._v(" "),e("li",[r._v("🔥 "),e("strong",[r._v("查看正在运行的容器  docker ps -a")])]),r._v(" "),e("li",[r._v("进入容器\n"),e("ul",[e("li",[r._v("docker attach name")]),r._v(" "),e("li",[r._v("🔥 "),e("strong",[r._v("docker exec -it name bash")]),r._v("  推荐这个 退出容器不会停止")])])]),r._v(" "),e("li",[r._v("查看conda环境\n"),e("ul",[e("li",[r._v("conda env list")]),r._v(" "),e("li",[r._v("conda info --envs")])])]),r._v(" "),e("li",[r._v("激活conda环境  conda activate name")]),r._v(" "),e("li",[r._v("🔥 "),e("strong",[r._v("强制删除正在运行的容器 docker rm --force name")])])]),r._v(" "),e("p",[e("strong",[r._v("将镜像导出")]),e("br"),e("code",[r._v("docker save 镜像id>~/wg/ERN.tar")]),e("br"),e("code",[r._v("docker save 镜像名称:版本号 -o /home/outpainting-wg.tar")]),e("br")]),r._v(" "),e("p",[e("strong",[r._v("在集群中导入镜像")]),e("br"),e("code",[r._v("docker load -i ~/wg/name")]),e("br"),e("code",[r._v("docker load < ~/wg/wg-op.tar")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("加载进来的镜像名称、标签均为none，修改名称与标签")]),e("br"),e("code",[r._v("docker tag eb40dcf64078 wg-op:torch1.5.0-cu101")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("🔥将容器打包成镜像")]),e("br"),e("code",[r._v("docker commit 容器ID 新镜像名称:版本号")]),e("br"),r._v("如 docker commit 9e4fcf42be59 lvshasha_tensorflow"),e("br"),r._v("在 docker images 时就会出现 lvshasha_tensorflow 这个镜像"),e("br"),r._v(" "),e("br"),e("strong",[r._v("🔥挂载")]),e("br"),r._v("如果挂载多个目录，-v 可以多次使用"),e("br"),e("code",[r._v("-v /home/my:/my -v ./home/ht:ht")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("将本地代码文件夹 传入到docker内部容器内")]),e("br"),e("code",[r._v("docker cp /home/wg/outpaiting/demo/Outpainting-master.tar.gz 容器名称:/home/wg/demo/code")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("🔥端口映射")]),e("br"),e("code",[r._v("-P 本机端口:容器端口")]),e("br"),r._v("-p 2222:22"),e("br"),r._v("因为用到22端口映射所以必须安装ssh服务"),e("br"),r._v("使用时通过访问服务器的2222端口来访问容器"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("ctrl+p+q")]),e("br"),r._v("代码跑起来之后，ctrl+p+q 可以退出容器，但是还保持运行的状态"),e("br"),r._v("使用  docker attach 容器名称  重新进入"),e("br"),e("strong",[r._v("​")])]),r._v(" "),e("p",[e("strong",[r._v("创建容器")]),e("br"),e("strong",[r._v("docker版本不同，调用gpu的命令不同")]),e("br"),e("strong",[r._v("​")])]),r._v(" "),e("p",[e("strong",[r._v("docker run -id --gpus all  -p 2225:22 --name wg -v ~/wg/outpainting/demo:/demo -v /datasets/places365/train:/demo/train -v /datasets/places365/test:/demo/test wg-op:torch1.2 /bin/bash")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("nvidia-docker run -id -p 2225:22 --name wg -v ~/wg/outpainting/demo:/demo -v /datasets/places365/train:/demo/train -v /datasets/places365/test:/demo/test wg-op:torch1.2 /bin/bash")]),e("br"),e("strong",[r._v("​")]),e("br")]),r._v(" "),e("hr"),r._v(" "),e("h2",{attrs:{id:"🎯-pycharm远程调用docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🎯-pycharm远程调用docker"}},[r._v("#")]),r._v(" 🎯 Pycharm远程调用docker")]),r._v(" "),e("p",[r._v("直接调用docker容器我们是做不到的"),e("br"),r._v("但是可以做到间接调用"),e("br"),r._v("localhost -> remote server -> docker"),e("br")]),r._v(" "),e("h3",{attrs:{id:"_1-建立容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-建立容器"}},[r._v("#")]),r._v(" 1. 建立容器")]),r._v(" "),e("p",[e("strong",[r._v("nvidia-docker run -id -p 2225:22 --name wg -v ~/wg/outpainting/demo:/demo -v /datasets/places365/train:/demo/train -v /datasets/places365/test:/demo/test wg-op:torch1.2 /bin/bash")]),e("br"),e("strong",[r._v("​")])]),r._v(" "),e("p",[r._v("大家使用时直接将这个命令复制下来，红色部分原封不动，其他部分替换为自己的就可以了"),e("br"),r._v("如果docker版本为XX时，将nvidia-docker 换为docker --gpus all 即可。"),e("br"),r._v("​"),e("br")]),r._v(" "),e("h3",{attrs:{id:"_2-安装openssh-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装openssh-server"}},[r._v("#")]),r._v(" 2. 安装openssh-server")]),r._v(" "),e("p",[r._v("在远程服务器上安装openssh-server"),e("br"),e("code",[r._v("apt update && apt install openssh-server")])]),r._v(" "),e("blockquote",[e("p",[r._v("注意，要在两个地方安装")]),r._v(" "),e("ol",[e("li",[r._v("远程服务器")]),r._v(" "),e("li",[r._v("容器内")])])]),r._v(" "),e("h3",{attrs:{id:"_3-建立连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-建立连接"}},[r._v("#")]),r._v(" 3. 建立连接")]),r._v(" "),e("p",[r._v("进入容器"),e("br"),e("strong",[r._v("修改SSH连接的密码")]),e("br"),r._v("默认账户为root"),e("br"),e("code",[r._v("passwd")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("容器内部重启ssh服务")]),e("br"),e("code",[r._v("service ssh restart")]),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("在服务器中测试容器与服务器上的映射是否建立")]),e("br"),e("code",[r._v("docker port <容器名字> 22")]),e("br"),r._v("若输出，表明只要外界连接到服务器的2222端口，就会转发到容器的22端口"),e("br"),e("code",[r._v("0.0.0.0:2222")]),e("br")]),r._v(" "),e("h3",{attrs:{id:"_4-本地测试连接是否建立"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-本地测试连接是否建立"}},[r._v("#")]),r._v(" 4. 本地测试连接是否建立")]),r._v(" "),e("p",[e("code",[r._v("ssh root@<你服务器的ip地址> -p 2222")]),e("br"),r._v("若成功 则直接连接至容器"),e("br"),r._v("​"),e("br"),r._v("\n:::info\n第2，3，4步骤"),e("br"),r._v("在设置一次后，将该容器导出为镜像"),e("br"),r._v("再创建这个镜像的容器，即已经拥有ssh"),e("br"),r._v("只需要进入容器设置密码，重启即可，随后在pycharm设置就可以\n:::\n​"),e("br")]),r._v(" "),e("h3",{attrs:{id:"_5-配置pycharm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置pycharm"}},[r._v("#")]),r._v(" 5. 配置pycharm")]),r._v(" "),e("h4",{attrs:{id:"配置sftp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置sftp"}},[r._v("#")]),r._v(" 配置SFTP")]),r._v(" "),e("p",[r._v("在导航栏中 Tools > Depolyment > Configuration中添加配置SFTP。 如图"),e("br")]),r._v(" "),e("p",[e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550322-e9109de0-17f1-4e6d-b72a-5c550e1c4ad1.png",alt:""}})]),r._v(" "),e("p",[r._v("添加配置SFTP，点击弹窗左上角的+号。选择SFTP，根据自己的实际情况进行配置。"),e("br"),e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550319-d41535cb-136c-46ef-a89b-32c85926c6d6.png",alt:""}}),e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550198-eebc2e8b-ab8e-40ac-ba89-dfd80539967e.gif",alt:"image.png"}}),e("br")]),r._v(" "),e("p",[r._v("PS：这里的root密码就是之前设置好的test")]),r._v(" "),e("h4",{attrs:{id:"配置sftp中的mapping"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置sftp中的mapping"}},[r._v("#")]),r._v(" 配置SFTP中的mapping")]),r._v(" "),e("p",[e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550320-c9a9bb44-3cfb-49de-ad90-14fa4574ecfa.png",alt:"image.png"}}),e("br"),r._v("都配置完之后。打开自动上传功能 Tools>Depolyment>Automatic Upload(always) 本地修改好代码只要按保存键就自动将本地代码上传至远程docker container中。 到这里已经配置好代码的自动同步了。还差最后一步，远程调试就配置成功。")]),r._v(" "),e("h4",{attrs:{id:"pycharm链接远程docker-container-配置远程编译器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pycharm链接远程docker-container-配置远程编译器"}},[r._v("#")]),r._v(" Pycharm链接远程docker container (配置远程编译器)")]),r._v(" "),e("p",[r._v("添加新编译器(远程docker container编译器)"),e("br"),e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550929-e5c951da-a1ef-4576-b8bb-fc7455b5c847.png",alt:""}}),e("br"),r._v("在打开的页面选择之前配置好的SFTP"),e("br"),e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171551188-d7e2815d-f2b9-447c-bfc8-22d0d83b7184.png",alt:""}}),e("br"),e("strong",[r._v("通常选择完之后下面有两个选项")])]),r._v(" "),e("ul",[e("li",[r._v("Create: 新建SFTP")]),r._v(" "),e("li",[r._v("Move: 将选择的SFTP作为编译器的SFTP")])]),r._v(" "),e("p",[r._v("通常选择Move就好"),e("br"),r._v("选择你需要使用的解释器"),e("br"),e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171551546-b3024f2c-cd6b-4461-847c-db5e16d517dd.png",alt:""}}),e("br"),r._v("上面已经配置了mapping，选择了move之后，项目位置就会自动映射。"),e("br")]),r._v(" "),e("p",[e("img",{attrs:{src:"https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171551830-c7becd66-13a9-4f96-9986-f35066cd5eb4.png",alt:"image.png"}}),e("br"),r._v("完结🎉"),e("br")]),r._v(" "),e("h2",{attrs:{id:"补充知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#补充知识"}},[r._v("#")]),r._v(" 补充知识")]),r._v(" "),e("h3",{attrs:{id:"linux操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux操作"}},[r._v("#")]),r._v(" linux操作")]),r._v(" "),e("p",[e("strong",[r._v("查看 CUDA 版本：")]),e("br"),r._v("cat /usr/local/cuda/version.txt"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("查看 CUDNN 版本：")]),e("br"),r._v("cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("统计文件夹下文件个数，包括子文件")]),e("br"),r._v('ls -lR | grep "^-"| wc -l'),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("统计文件夹中目录个数")]),e("br"),r._v('ls -l ./|grep "^d"|wc -l'),e("br"),r._v(" "),e("br"),r._v("​"),e("strong",[r._v("判断是否有网")]),e("br"),r._v("集群本地 ping "),e("a",{attrs:{href:"http://www.baidu.com",target:"_blank",rel:"noopener noreferrer"}},[r._v("www.baidu.com"),e("OutboundLink")],1),e("br"),r._v("容器内部 curl "),e("a",{attrs:{href:"http://www.baidu.com",target:"_blank",rel:"noopener noreferrer"}},[r._v("www.baidu.com"),e("OutboundLink")],1),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("Linux 删除目录")]),e("br"),r._v("rm -rf  xxx  递归删除目录的所有文件"),e("br"),r._v(" "),e("br"),r._v("​"),e("strong",[r._v("编辑文件的两种方式")]),e("br"),r._v("gedit "),e("br"),r._v("vim"),e("br"),r._v(" "),e("br"),r._v("​"),e("strong",[r._v("查看线程命令")]),e("br"),r._v("ps -aux"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("杀死线程命令")]),e("br"),r._v("​kill  pid  "),e("br"),r._v(" "),e("br"),r._v("​"),e("strong",[r._v("SCP")]),e("br"),r._v("使用ssh的scp服务传输文件"),e("br"),r._v("sudo scp /home/outpainting-wg.tar kWang1@172.31.151.24:~/"),e("br"),r._v("scp ERN.tar yzKe1@172.31.151.32:~/wg/"),e("br"),r._v("​")]),r._v(" "),e("p",[e("strong",[r._v("拷贝/移动文件")]),e("br"),r._v("cp  hello.csv  ./python/ml：把当前目录的hello.csv拷贝到当前目的python文件夹里的ml文件夹里"),e("br"),r._v("mv hello.csv ./python：把当前目录的hello.csv剪切到当前目的python文件夹里"),e("br"),r._v("cp -r /usr/wg/  /usr/wgg/   将/usr/wg目录中所有文件及其子目录拷贝到/usr/wgg中"),e("br")]),r._v(" "),e("h3",{attrs:{id:"conda配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#conda配置"}},[r._v("#")]),r._v(" conda配置")]),r._v(" "),e("p",[e("strong",[r._v("更换conda源")]),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/"),e("OutboundLink")],1),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge"),e("OutboundLink")],1),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/"),e("OutboundLink")],1),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("conda下载pytorch巨慢  是因为国内镜像源不支持conda  但是最新发现清华源已经支持了， 需要额外添加pytorch的库，否则找不到"),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/"),e("OutboundLink")],1),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/"),e("OutboundLink")],1),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/"),e("OutboundLink")],1),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/"),e("OutboundLink")],1),e("br"),r._v("conda config --add channels "),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/"),e("OutboundLink")],1),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("安装  conda install pytorch==1.5.1 torchvision==0.6.1 cudatoolkit=9.2 -c pytorch"),e("br"),r._v("但是一定要去掉后面的 -c pytorch。因为命令最后是-c pytorch，所以默认还是从conda源下载，新安装的清华等源没有用上"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("查看conda 配置"),e("br"),r._v("conda  config  --show"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("设置搜索时显示通道地址"),e("br"),r._v("conda config --set show_channel_urls yes"),e("br")]),r._v(" "),e("h3",{attrs:{id:"pip配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pip配置"}},[r._v("#")]),r._v(" pip配置")]),r._v(" "),e("p",[e("strong",[r._v("更换pip源")]),e("br"),r._v("临时使用  pip install -i "),e("a",{attrs:{href:"https://pypi.tuna.tsinghua.edu.cn/simple",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://pypi.tuna.tsinghua.edu.cn/simple"),e("OutboundLink")],1),r._v(" pandas"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("豆瓣"),e("br"),e("a",{attrs:{href:"https://pypi.doubanio.com/simple/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://pypi.doubanio.com/simple/"),e("OutboundLink")],1),e("br"),r._v("阿里云    "),e("br"),e("a",{attrs:{href:"https://mirrors.aliyun.com/pypi/simple/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.aliyun.com/pypi/simple/"),e("OutboundLink")],1),e("br"),r._v("清华大学"),e("br"),e("a",{attrs:{href:"https://pypi.tuna.tsinghua.edu.cn/simple/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://pypi.tuna.tsinghua.edu.cn/simple/"),e("OutboundLink")],1),e("br"),e("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/"),e("OutboundLink")],1),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("临时使用"),e("br"),r._v("pip install some-package -i "),e("a",{attrs:{href:"https://mirrors.aliyun.com/pypi/simple/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.aliyun.com/pypi/simple/"),e("OutboundLink")],1),e("br"),r._v(" "),e("br"),r._v("设为默认#"),e("br"),r._v("升级 pip 到最新的版本后进行配置"),e("br"),r._v("pip install pip -U"),e("br"),r._v("pip config set global.index-url "),e("a",{attrs:{href:"https://mirrors.aliyun.com/pypi/simple/",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://mirrors.aliyun.com/pypi/simple/"),e("OutboundLink")],1),e("br")]),r._v(" "),e("h3",{attrs:{id:"安装opencv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装opencv"}},[r._v("#")]),r._v(" 安装opencv")]),r._v(" "),e("p",[e("strong",[r._v("安装opencv-contrib-python")]),e("br"),r._v("pip install -i "),e("a",{attrs:{href:"https://pypi.tuna.tsinghua.edu.cn/simple",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://pypi.tuna.tsinghua.edu.cn/simple"),e("OutboundLink")],1),r._v("  opencv-contrib-python "),e("br"),r._v("后"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("若出现"),e("br"),r._v("ImportError: libGL.so.1: cannot open shared object file: No such file or directory"),e("br"),r._v("则"),e("br"),r._v("apt-get update"),e("br"),r._v("apt-get install -y libgl1-mesa-dev"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("ImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory"),e("br"),r._v("则"),e("br"),r._v("apt-get update"),e("br"),r._v("apt-get install libglib2.0-dev"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("ImportError: libSM.so.6: cannot open shared object file: No such file or dir"),e("br"),r._v("apt-get install libsm6"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("如果你出现了上面的错误，那你很大概率也会遇到下面的问题，"),e("br"),r._v("ImportError: libXrender.so.1: cannot open shared object file: No such file or directory"),e("br"),r._v("apt-get install libxrender1"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("ImportError: libXext.so.6: cannot open shared object file: No such file or directory"),e("br"),r._v("apt-get install libxext-dev"),e("br"),r._v("​"),e("br")]),r._v(" "),e("h3",{attrs:{id:"更换镜像的python版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更换镜像的python版本"}},[r._v("#")]),r._v(" 更换镜像的python版本")]),r._v(" "),e("p",[e("strong",[r._v("如果拉取的镜像中是python3.5版本  但是实际需要3.6版本")]),e("br"),r._v("拉取tf镜像"),e("br"),r._v("创建容器"),e("br"),r._v("相关连接"),e("br"),e("a",{attrs:{href:"https://blog.csdn.net/th_num/article/details/82804392",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://blog.csdn.net/th_num/article/details/82804392"),e("OutboundLink")],1),e("br"),e("a",{attrs:{href:"https://blog.csdn.net/weixin_43802384/article/details/90040968",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://blog.csdn.net/weixin_43802384/article/details/90040968"),e("OutboundLink")],1),e("br"),e("a",{attrs:{href:"https://blog.csdn.net/weixin_42259631/article/details/82818058",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://blog.csdn.net/weixin_42259631/article/details/82818058"),e("OutboundLink")],1),e("br"),e("a",{attrs:{href:"https://www.jianshu.com/p/2a5cd519e583?tdsourcetag=s_pcqq_aiomsg",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://www.jianshu.com/p/2a5cd519e583?tdsourcetag=s_pcqq_aiomsg"),e("OutboundLink")],1),e("br"),e("a",{attrs:{href:"https://blog.csdn.net/weixin_30300523/article/details/101772159?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduend~default-1-101772159.nonecase&utm_term=%E5%8D%87%E7%BA%A7docker%E4%B8%AD%E7%9A%84python%E7%89%88%E6%9C%AC&spm=1000.2123.3001.4430",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://blog.csdn.net/weixin_30300523/article/details/101772159?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduend~default-1-101772159.nonecase&utm_term=%E5%8D%87%E7%BA%A7docker%E4%B8%AD%E7%9A%84python%E7%89%88%E6%9C%AC&spm=1000.2123.3001.4430"),e("OutboundLink")],1),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("使用这个PPA源"),e("br"),r._v("sudo add-apt-repository ppa:deadsnakes/ppa"),e("br"),r._v("sudo apt update"),e("br"),r._v("sudo apt install python3.6 python3.6-dev -y"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("修改python命令默认指向python3.6："),e("br"),r._v("1. 查看默认python指向："),e("br"),r._v("sudo ls -l /usr/bin | grep python "),e("br"),r._v("2. 删除原有python软连接"),e("br"),r._v("sudo rm /usr/bin/python"),e("br"),r._v("3. 建立python到python3.6新的软链接"),e("br"),r._v("sudo ln -s /usr/bin/python3.6 /usr/bin/python"),e("br"),r._v("4. ubuntu 安装pip：直接安装python3版本pip"),e("br"),r._v("sudo apt-get install python3-pip     ---这里也有个小坑！如果你写的是python3-pip 执行安装后，如果系统自带了python3.5，其实pip这时是装在了python3.5环境下了！！！"),e("br"),r._v("sudo apt-get install python3.6-pip   ---正确的指定方式，应该把小版本号也加上！"),e("br"),r._v("​5. 建立pip到pip3的软连接"),e("br"),r._v("sudo ln -s /usr/bin/pip3 /usr/bin/pip"),e("br"),r._v("​")]),r._v(" "),e("p",[r._v("如果执行apt-get install python3.6-pip 报错"),e("br"),r._v("则安装新的pip"),e("br"),r._v("curl "),e("a",{attrs:{href:"https://bootstrap.pypa.io/get-pip.py",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://bootstrap.pypa.io/get-pip.py"),e("OutboundLink")],1),r._v(" -o get-pip.py"),e("br"),r._v("如果安装到python下就是"),e("br"),r._v("python get-pip.py --force-reinstall"),e("br"),r._v("如果安装到python3下就是"),e("br"),r._v("python3 get-pip.py --force-reinstall"),e("br"),r._v("成功"),e("br"),r._v("但这时，安装的pip是一个新的pip，替代了之前镜像中自带的pip中已经下好的东西"),e("br"),r._v("现在的pip是一个全新的环境，需要自己全部添加需要的环境"),e("br"),r._v("​"),e("br")]),r._v(" "),e("hr"),r._v(" "),e("p",[r._v("撒花🎉"),e("br"),r._v("希望可以帮助到大家"),e("br"),r._v("不好之处多多包涵")])])}),[],!1,null,null,null);t.default=n.exports}}]);