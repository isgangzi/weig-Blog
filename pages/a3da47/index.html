<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>docker总结 | WeiG&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/logo-wg.png">
    <link rel="stylesheet" href="https://unpkg.com/mssui@0.1.13/lib/theme-chalk/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
    <script src="https://unpkg.com/mssui@0.1.17/lib/index.js"></script>
    <meta name="description" content="docker">
    <meta name="keywords" content="docker,docker总结,docker运维,docker跑代码">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="baidu-site-verification" content="code-j18kmQxBCf">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.9aa4d8b4.css" as="style"><link rel="preload" href="/assets/js/app.45f0dd8b.js" as="script"><link rel="preload" href="/assets/js/3.f2544ac4.js" as="script"><link rel="preload" href="/assets/js/4.62e5e232.js" as="script"><link rel="preload" href="/assets/js/21.ad4f7782.js" as="script"><link rel="prefetch" href="/assets/js/1.b9faf109.js"><link rel="prefetch" href="/assets/js/10.0138d26a.js"><link rel="prefetch" href="/assets/js/11.a12e2beb.js"><link rel="prefetch" href="/assets/js/12.6825d6c8.js"><link rel="prefetch" href="/assets/js/13.80e74cc6.js"><link rel="prefetch" href="/assets/js/14.944ef2c3.js"><link rel="prefetch" href="/assets/js/15.bf3f792f.js"><link rel="prefetch" href="/assets/js/16.55b0dc21.js"><link rel="prefetch" href="/assets/js/17.491856c8.js"><link rel="prefetch" href="/assets/js/18.073f8091.js"><link rel="prefetch" href="/assets/js/19.57bd47f9.js"><link rel="prefetch" href="/assets/js/20.5fe25398.js"><link rel="prefetch" href="/assets/js/22.575d2980.js"><link rel="prefetch" href="/assets/js/23.e8671c23.js"><link rel="prefetch" href="/assets/js/24.18d507e9.js"><link rel="prefetch" href="/assets/js/25.0109e8d7.js"><link rel="prefetch" href="/assets/js/26.35e9553e.js"><link rel="prefetch" href="/assets/js/27.3d9dbf2d.js"><link rel="prefetch" href="/assets/js/28.e88e802c.js"><link rel="prefetch" href="/assets/js/29.425eedb2.js"><link rel="prefetch" href="/assets/js/30.4e6d20e3.js"><link rel="prefetch" href="/assets/js/31.8879ab41.js"><link rel="prefetch" href="/assets/js/32.4c9386c9.js"><link rel="prefetch" href="/assets/js/33.1c1b5d7f.js"><link rel="prefetch" href="/assets/js/34.d8eb19b0.js"><link rel="prefetch" href="/assets/js/35.ea53f814.js"><link rel="prefetch" href="/assets/js/36.e1140884.js"><link rel="prefetch" href="/assets/js/37.efb7d5f5.js"><link rel="prefetch" href="/assets/js/38.b353f813.js"><link rel="prefetch" href="/assets/js/39.20a73d74.js"><link rel="prefetch" href="/assets/js/40.daa70c89.js"><link rel="prefetch" href="/assets/js/41.75067f71.js"><link rel="prefetch" href="/assets/js/42.588fa235.js"><link rel="prefetch" href="/assets/js/43.092c9460.js"><link rel="prefetch" href="/assets/js/44.f619169a.js"><link rel="prefetch" href="/assets/js/45.e40ecbe5.js"><link rel="prefetch" href="/assets/js/46.6a565ef6.js"><link rel="prefetch" href="/assets/js/5.7611f48f.js"><link rel="prefetch" href="/assets/js/6.0ec48f55.js"><link rel="prefetch" href="/assets/js/7.f09813db.js"><link rel="prefetch" href="/assets/js/8.9008801d.js"><link rel="prefetch" href="/assets/js/9.f8902b8b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9aa4d8b4.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">WeiG's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link firstMenu-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端乱炖" class="dropdown-title"><a href="/backend/" class="link-title">后端乱炖</a> <span class="title" style="display:none;">后端乱炖</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>类目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/6ef29e/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/pages/04a264/" class="nav-link">Mysql</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/SpringBoot/" class="nav-link">《SpringBoot-学习笔记》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术杂谈" class="dropdown-title"><a href="/tech/" class="link-title">技术杂谈</a> <span class="title" style="display:none;">技术杂谈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4e5c11/" class="nav-link">大杂烩</a></li><li class="dropdown-item"><!----> <a href="/pages/a3da47/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/243aae/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/bf819e/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="百草屋" class="dropdown-title"><a href="/read/" class="link-title">百草屋</a> <span class="title" style="display:none;">百草屋</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/44e592/" class="nav-link">程序人生</a></li><li class="dropdown-item"><!----> <a href="/pages/511ed7/" class="nav-link">所思所想</a></li><li class="dropdown-item"><!----> <a href="/pages/b79286/" class="nav-link">人生游记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li></ul></div></div><div class="nav-item"><a href="/collect/" class="nav-link firstMenu-link">收藏</a></div><div class="nav-item"><a href="/about/" class="nav-link firstMenu-link">关于我</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/headlogo.png"> <div class="blogger-info"><h3>Wei-G</h3> <span>即使再小的帆也可以远航！</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link firstMenu-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端乱炖" class="dropdown-title"><a href="/backend/" class="link-title">后端乱炖</a> <span class="title" style="display:none;">后端乱炖</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>类目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/6ef29e/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/pages/04a264/" class="nav-link">Mysql</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/SpringBoot/" class="nav-link">《SpringBoot-学习笔记》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术杂谈" class="dropdown-title"><a href="/tech/" class="link-title">技术杂谈</a> <span class="title" style="display:none;">技术杂谈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4e5c11/" class="nav-link">大杂烩</a></li><li class="dropdown-item"><!----> <a href="/pages/a3da47/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/243aae/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/bf819e/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="百草屋" class="dropdown-title"><a href="/read/" class="link-title">百草屋</a> <span class="title" style="display:none;">百草屋</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/44e592/" class="nav-link">程序人生</a></li><li class="dropdown-item"><!----> <a href="/pages/511ed7/" class="nav-link">所思所想</a></li><li class="dropdown-item"><!----> <a href="/pages/b79286/" class="nav-link">人生游记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li></ul></div></div><div class="nav-item"><a href="/collect/" class="nav-link firstMenu-link">收藏</a></div><div class="nav-item"><a href="/about/" class="nav-link firstMenu-link">关于我</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大杂烩</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a3da47/" aria-current="page" class="active sidebar-link">docker总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a3da47/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#测试可用" class="sidebar-link">测试可用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a3da47/#检验cuda是否安装正确-能否被pytorch检测到" class="sidebar-link">检验cuda是否安装正确&amp;能否被pytorch检测到</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#测试pytorch能不能调用cuda加速" class="sidebar-link">测试pytorch能不能调用cuda加速</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#基本操作" class="sidebar-link">基本操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a3da47/#基础命令" class="sidebar-link">基础命令</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#🌈-重要的命令" class="sidebar-link">🌈 重要的命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#🎯-pycharm远程调用docker" class="sidebar-link">🎯 Pycharm远程调用docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a3da47/#_1-建立容器" class="sidebar-link">1. 建立容器</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#_2-安装openssh-server" class="sidebar-link">2. 安装openssh-server</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#_3-建立连接" class="sidebar-link">3. 建立连接</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#_4-本地测试连接是否建立" class="sidebar-link">4. 本地测试连接是否建立</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#_5-配置pycharm" class="sidebar-link">5. 配置pycharm</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#补充知识" class="sidebar-link">补充知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/a3da47/#linux操作" class="sidebar-link">linux操作</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#conda配置" class="sidebar-link">conda配置</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#pip配置" class="sidebar-link">pip配置</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#安装opencv" class="sidebar-link">安装opencv</a></li><li class="sidebar-sub-header"><a href="/pages/a3da47/#更换镜像的python版本" class="sidebar-link">更换镜像的python版本</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>博客搭建</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-6a6538c2><div class="articleInfo" data-v-6a6538c2><ul class="breadcrumbs" data-v-6a6538c2><li data-v-6a6538c2><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-6a6538c2></a></li> <li data-v-6a6538c2><a href="/tech" title="技术杂谈-目录页" data-v-6a6538c2>技术杂谈</a></li> <li data-v-6a6538c2><a href="/tech/#Docker" title="技术杂谈#Docker" data-v-6a6538c2>Docker</a></li> <!----></ul> <div class="info" data-v-6a6538c2><div title="作者" class="author iconfont icon-touxiang" data-v-6a6538c2><a href="https://www.yuque.com/weig" target="_blank" title="作者" class="beLink" data-v-6a6538c2>gangzi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-6a6538c2><a href="javascript:;" data-v-6a6538c2>2021-12-18</a></div> <!----> <div class="date iconfont icon-yuedu" data-v-6a6538c2><span data-v-6a6538c2>时间 11分钟</span></div> <div id="busuanzi_container_site_pv" title="浏览量" class="icon iconfont icon-eye" data-v-6a6538c2><span id="busuanzi_value_page_pv" data-v-6a6538c2></span></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          docker总结
        </h1>  <div class="theme-vdoing-content content__default"><p>以下是我在使用过程中</p> <ul><li>遇到的坑</li> <li>解决的问题</li> <li>一些总结</li></ul> <p>其中还有很多不足，大家可以慢慢一起完善<br>希望可以帮助到大家，大家一起进步一起成长</p> <hr> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <p><strong>建议 ubuntu16.4/18.4</strong><br><strong>安装说明自行百度不做介绍</strong><br><strong>​</strong></p> <p>安装docker<br><a href="https://blog.csdn.net/jinking01/article/details/82490688" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/jinking01/article/details/82490688<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>安装nvidia-docker 参考官方<br><a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#installing-docker-ce" target="_blank" rel="noopener noreferrer">https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#installing-docker-ce<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <h2 id="测试可用"><a href="#测试可用" class="header-anchor">#</a> 测试可用</h2> <h3 id="检验cuda是否安装正确-能否被pytorch检测到"><a href="#检验cuda是否安装正确-能否被pytorch检测到" class="header-anchor">#</a> 检验cuda是否安装正确&amp;能否被pytorch检测到</h3> <ol><li>import torch</li> <li>import torchvision</li> <li>print(torch.cuda.is_available())</li></ol> <p><code>python -c &quot;import torch;print(torch.cuda.is_available())&quot;</code><br>​<br></p> <h3 id="测试pytorch能不能调用cuda加速"><a href="#测试pytorch能不能调用cuda加速" class="header-anchor">#</a> 测试pytorch能不能调用cuda加速</h3> <ol><li>a = torch.Tensor(5,3)</li> <li>a=a.cuda()</li> <li>print(a)</li></ol> <p><code>python -c &quot;import torch;print(torch.cuda.is_available());a = torch.Tensor(5,3);a=a.cuda();print(a)&quot;</code><br>​<br></p> <hr> <h2 id="基本操作"><a href="#基本操作" class="header-anchor">#</a> 基本操作</h2> <h3 id="基础命令"><a href="#基础命令" class="header-anchor">#</a> 基础命令</h3> <p>镜像可取docker hub 自行下载 不做介绍<br> <br><strong>查看当前使用pytorch的版本</strong><br>import torch<br>print(torch.<strong>__version</strong>) #注意是双下划线<br>​</p> <p><strong>查看docker服务是否启动：</strong><br>systemctl status docker<br>​</p> <p><strong>启动docker服务</strong>：<br>sudo systemctl start docker<br>​</p> <p><strong>查看docker版本信息</strong><br>docker --version<br>docker version<br>docker info<br>​<br></p> <h3 id="🌈-重要的命令"><a href="#🌈-重要的命令" class="header-anchor">#</a> 🌈 重要的命令</h3> <ul><li>加载   docker load -i name</li> <li>🔥 <strong>查看镜像  docker iamges</strong></li> <li>🔥 <strong>查看容器  docker ps</strong></li> <li>🔥 <strong>查看正在运行的容器  docker ps -a</strong></li> <li>进入容器
<ul><li>docker attach name</li> <li>🔥 <strong>docker exec -it name bash</strong>  推荐这个 退出容器不会停止</li></ul></li> <li>查看conda环境
<ul><li>conda env list</li> <li>conda info --envs</li></ul></li> <li>激活conda环境  conda activate name</li> <li>🔥 <strong>强制删除正在运行的容器 docker rm --force name</strong></li></ul> <p><strong>将镜像导出</strong><br><code>docker save 镜像id&gt;~/wg/ERN.tar</code><br><code>docker save 镜像名称:版本号 -o /home/outpainting-wg.tar</code><br></p> <p><strong>在集群中导入镜像</strong><br><code>docker load -i ~/wg/name</code><br><code>docker load &lt; ~/wg/wg-op.tar</code><br>​</p> <p><strong>加载进来的镜像名称、标签均为none，修改名称与标签</strong><br><code>docker tag eb40dcf64078 wg-op:torch1.5.0-cu101</code><br>​</p> <p><strong>🔥将容器打包成镜像</strong><br><code>docker commit 容器ID 新镜像名称:版本号</code><br>如 docker commit 9e4fcf42be59 lvshasha_tensorflow<br>在 docker images 时就会出现 lvshasha_tensorflow 这个镜像<br> <br><strong>🔥挂载</strong><br>如果挂载多个目录，-v 可以多次使用<br><code>-v /home/my:/my -v ./home/ht:ht</code><br>​</p> <p><strong>将本地代码文件夹 传入到docker内部容器内</strong><br><code>docker cp /home/wg/outpaiting/demo/Outpainting-master.tar.gz 容器名称:/home/wg/demo/code</code><br>​</p> <p><strong>🔥端口映射</strong><br><code>-P 本机端口:容器端口</code><br>-p 2222:22<br>因为用到22端口映射所以必须安装ssh服务<br>使用时通过访问服务器的2222端口来访问容器<br>​</p> <p><strong>ctrl+p+q</strong><br>代码跑起来之后，ctrl+p+q 可以退出容器，但是还保持运行的状态<br>使用  docker attach 容器名称  重新进入<br><strong>​</strong></p> <p><strong>创建容器</strong><br><strong>docker版本不同，调用gpu的命令不同</strong><br><strong>​</strong></p> <p><strong>docker run -id --gpus all  -p 2225:22 --name wg -v ~/wg/outpainting/demo:/demo -v /datasets/places365/train:/demo/train -v /datasets/places365/test:/demo/test wg-op:torch1.2 /bin/bash</strong><br>​</p> <p><strong>nvidia-docker run -id -p 2225:22 --name wg -v ~/wg/outpainting/demo:/demo -v /datasets/places365/train:/demo/train -v /datasets/places365/test:/demo/test wg-op:torch1.2 /bin/bash</strong><br><strong>​</strong><br></p> <hr> <h2 id="🎯-pycharm远程调用docker"><a href="#🎯-pycharm远程调用docker" class="header-anchor">#</a> 🎯 Pycharm远程调用docker</h2> <p>直接调用docker容器我们是做不到的<br>但是可以做到间接调用<br>localhost -&gt; remote server -&gt; docker<br></p> <h3 id="_1-建立容器"><a href="#_1-建立容器" class="header-anchor">#</a> 1. 建立容器</h3> <p><strong>nvidia-docker run -id -p 2225:22 --name wg -v ~/wg/outpainting/demo:/demo -v /datasets/places365/train:/demo/train -v /datasets/places365/test:/demo/test wg-op:torch1.2 /bin/bash</strong><br><strong>​</strong></p> <p>大家使用时直接将这个命令复制下来，红色部分原封不动，其他部分替换为自己的就可以了<br>如果docker版本为XX时，将nvidia-docker 换为docker --gpus all 即可。<br>​<br></p> <h3 id="_2-安装openssh-server"><a href="#_2-安装openssh-server" class="header-anchor">#</a> 2. 安装openssh-server</h3> <p>在远程服务器上安装openssh-server<br><code>apt update &amp;&amp; apt install openssh-server</code></p> <blockquote><p>注意，要在两个地方安装</p> <ol><li>远程服务器</li> <li>容器内</li></ol></blockquote> <h3 id="_3-建立连接"><a href="#_3-建立连接" class="header-anchor">#</a> 3. 建立连接</h3> <p>进入容器<br><strong>修改SSH连接的密码</strong><br>默认账户为root<br><code>passwd</code><br>​</p> <p><strong>容器内部重启ssh服务</strong><br><code>service ssh restart</code><br>​</p> <p><strong>在服务器中测试容器与服务器上的映射是否建立</strong><br><code>docker port &lt;容器名字&gt; 22</code><br>若输出，表明只要外界连接到服务器的2222端口，就会转发到容器的22端口<br><code>0.0.0.0:2222</code><br></p> <h3 id="_4-本地测试连接是否建立"><a href="#_4-本地测试连接是否建立" class="header-anchor">#</a> 4. 本地测试连接是否建立</h3> <p><code>ssh root@&lt;你服务器的ip地址&gt; -p 2222</code><br>若成功 则直接连接至容器<br>​<br>
:::info
第2，3，4步骤<br>在设置一次后，将该容器导出为镜像<br>再创建这个镜像的容器，即已经拥有ssh<br>只需要进入容器设置密码，重启即可，随后在pycharm设置就可以
:::
​<br></p> <h3 id="_5-配置pycharm"><a href="#_5-配置pycharm" class="header-anchor">#</a> 5. 配置pycharm</h3> <h4 id="配置sftp"><a href="#配置sftp" class="header-anchor">#</a> 配置SFTP</h4> <p>在导航栏中 Tools &gt; Depolyment &gt; Configuration中添加配置SFTP。 如图<br></p> <p><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550322-e9109de0-17f1-4e6d-b72a-5c550e1c4ad1.png" alt=""></p> <p>添加配置SFTP，点击弹窗左上角的+号。选择SFTP，根据自己的实际情况进行配置。<br><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550319-d41535cb-136c-46ef-a89b-32c85926c6d6.png" alt=""><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550198-eebc2e8b-ab8e-40ac-ba89-dfd80539967e.gif" alt="image.png"><br></p> <p>PS：这里的root密码就是之前设置好的test</p> <h4 id="配置sftp中的mapping"><a href="#配置sftp中的mapping" class="header-anchor">#</a> 配置SFTP中的mapping</h4> <p><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550320-c9a9bb44-3cfb-49de-ad90-14fa4574ecfa.png" alt="image.png"><br>都配置完之后。打开自动上传功能 Tools&gt;Depolyment&gt;Automatic Upload(always) 本地修改好代码只要按保存键就自动将本地代码上传至远程docker container中。 到这里已经配置好代码的自动同步了。还差最后一步，远程调试就配置成功。</p> <h4 id="pycharm链接远程docker-container-配置远程编译器"><a href="#pycharm链接远程docker-container-配置远程编译器" class="header-anchor">#</a> Pycharm链接远程docker container (配置远程编译器)</h4> <p>添加新编译器(远程docker container编译器)<br><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171550929-e5c951da-a1ef-4576-b8bb-fc7455b5c847.png" alt=""><br>在打开的页面选择之前配置好的SFTP<br><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171551188-d7e2815d-f2b9-447c-bfc8-22d0d83b7184.png" alt=""><br><strong>通常选择完之后下面有两个选项</strong></p> <ul><li>Create: 新建SFTP</li> <li>Move: 将选择的SFTP作为编译器的SFTP</li></ul> <p>通常选择Move就好<br>选择你需要使用的解释器<br><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171551546-b3024f2c-cd6b-4461-847c-db5e16d517dd.png" alt=""><br>上面已经配置了mapping，选择了move之后，项目位置就会自动映射。<br></p> <p><img src="https://weig-blog-wggz.oss-cn-beijing.aliyuncs.com/img/1631171551830-c7becd66-13a9-4f96-9986-f35066cd5eb4.png" alt="image.png"><br>完结🎉<br></p> <h2 id="补充知识"><a href="#补充知识" class="header-anchor">#</a> 补充知识</h2> <h3 id="linux操作"><a href="#linux操作" class="header-anchor">#</a> linux操作</h3> <p><strong>查看 CUDA 版本：</strong><br>cat /usr/local/cuda/version.txt<br>​</p> <p><strong>查看 CUDNN 版本：</strong><br>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2<br>​</p> <p><strong>统计文件夹下文件个数，包括子文件</strong><br>ls -lR | grep &quot;^-&quot;| wc -l<br>​</p> <p><strong>统计文件夹中目录个数</strong><br>ls -l ./|grep &quot;^d&quot;|wc -l<br> <br>​<strong>判断是否有网</strong><br>集群本地 ping <a href="http://www.baidu.com" target="_blank" rel="noopener noreferrer">www.baidu.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>容器内部 curl <a href="http://www.baidu.com" target="_blank" rel="noopener noreferrer">www.baidu.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>​</p> <p><strong>Linux 删除目录</strong><br>rm -rf  xxx  递归删除目录的所有文件<br> <br>​<strong>编辑文件的两种方式</strong><br>gedit <br>vim<br> <br>​<strong>查看线程命令</strong><br>ps -aux<br>​</p> <p><strong>杀死线程命令</strong><br>​kill  pid  <br> <br>​<strong>SCP</strong><br>使用ssh的scp服务传输文件<br>sudo scp /home/outpainting-wg.tar kWang1@172.31.151.24:~/<br>scp ERN.tar yzKe1@172.31.151.32:~/wg/<br>​</p> <p><strong>拷贝/移动文件</strong><br>cp  hello.csv  ./python/ml：把当前目录的hello.csv拷贝到当前目的python文件夹里的ml文件夹里<br>mv hello.csv ./python：把当前目录的hello.csv剪切到当前目的python文件夹里<br>cp -r /usr/wg/  /usr/wgg/   将/usr/wg目录中所有文件及其子目录拷贝到/usr/wgg中<br></p> <h3 id="conda配置"><a href="#conda配置" class="header-anchor">#</a> conda配置</h3> <p><strong>更换conda源</strong><br>​</p> <p>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>​</p> <p>conda下载pytorch巨慢  是因为国内镜像源不支持conda  但是最新发现清华源已经支持了， 需要额外添加pytorch的库，否则找不到<br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>conda config --add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>​</p> <p>安装  conda install pytorch==1.5.1 torchvision==0.6.1 cudatoolkit=9.2 -c pytorch<br>但是一定要去掉后面的 -c pytorch。因为命令最后是-c pytorch，所以默认还是从conda源下载，新安装的清华等源没有用上<br>​</p> <p>查看conda 配置<br>conda  config  --show<br>​</p> <p>设置搜索时显示通道地址<br>conda config --set show_channel_urls yes<br></p> <h3 id="pip配置"><a href="#pip配置" class="header-anchor">#</a> pip配置</h3> <p><strong>更换pip源</strong><br>临时使用  pip install -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener noreferrer">https://pypi.tuna.tsinghua.edu.cn/simple<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> pandas<br>​</p> <p>豆瓣<br><a href="https://pypi.doubanio.com/simple/" target="_blank" rel="noopener noreferrer">https://pypi.doubanio.com/simple/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>阿里云    <br><a href="https://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="noopener noreferrer">https://mirrors.aliyun.com/pypi/simple/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>清华大学<br><a href="https://pypi.tuna.tsinghua.edu.cn/simple/" target="_blank" rel="noopener noreferrer">https://pypi.tuna.tsinghua.edu.cn/simple/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>​</p> <p>临时使用<br>pip install some-package -i <a href="https://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="noopener noreferrer">https://mirrors.aliyun.com/pypi/simple/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <br>设为默认#<br>升级 pip 到最新的版本后进行配置<br>pip install pip -U<br>pip config set global.index-url <a href="https://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="noopener noreferrer">https://mirrors.aliyun.com/pypi/simple/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br></p> <h3 id="安装opencv"><a href="#安装opencv" class="header-anchor">#</a> 安装opencv</h3> <p><strong>安装opencv-contrib-python</strong><br>pip install -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener noreferrer">https://pypi.tuna.tsinghua.edu.cn/simple<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  opencv-contrib-python <br>后<br>​</p> <p>若出现<br>ImportError: libGL.so.1: cannot open shared object file: No such file or directory<br>则<br>apt-get update<br>apt-get install -y libgl1-mesa-dev<br>​</p> <p>ImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory<br>则<br>apt-get update<br>apt-get install libglib2.0-dev<br>​</p> <p>ImportError: libSM.so.6: cannot open shared object file: No such file or dir<br>apt-get install libsm6<br>​</p> <p>如果你出现了上面的错误，那你很大概率也会遇到下面的问题，<br>ImportError: libXrender.so.1: cannot open shared object file: No such file or directory<br>apt-get install libxrender1<br>​</p> <p>ImportError: libXext.so.6: cannot open shared object file: No such file or directory<br>apt-get install libxext-dev<br>​<br></p> <h3 id="更换镜像的python版本"><a href="#更换镜像的python版本" class="header-anchor">#</a> 更换镜像的python版本</h3> <p><strong>如果拉取的镜像中是python3.5版本  但是实际需要3.6版本</strong><br>拉取tf镜像<br>创建容器<br>相关连接<br><a href="https://blog.csdn.net/th_num/article/details/82804392" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/th_num/article/details/82804392<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://blog.csdn.net/weixin_43802384/article/details/90040968" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_43802384/article/details/90040968<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://blog.csdn.net/weixin_42259631/article/details/82818058" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_42259631/article/details/82818058<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://www.jianshu.com/p/2a5cd519e583?tdsourcetag=s_pcqq_aiomsg" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/2a5cd519e583?tdsourcetag=s_pcqq_aiomsg<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://blog.csdn.net/weixin_30300523/article/details/101772159?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduend~default-1-101772159.nonecase&amp;utm_term=%E5%8D%87%E7%BA%A7docker%E4%B8%AD%E7%9A%84python%E7%89%88%E6%9C%AC&amp;spm=1000.2123.3001.4430" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_30300523/article/details/101772159?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduend~default-1-101772159.nonecase&amp;utm_term=%E5%8D%87%E7%BA%A7docker%E4%B8%AD%E7%9A%84python%E7%89%88%E6%9C%AC&amp;spm=1000.2123.3001.4430<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>​</p> <p>使用这个PPA源<br>sudo add-apt-repository ppa:deadsnakes/ppa<br>sudo apt update<br>sudo apt install python3.6 python3.6-dev -y<br>​</p> <p>修改python命令默认指向python3.6：<br>1. 查看默认python指向：<br>sudo ls -l /usr/bin | grep python <br>2. 删除原有python软连接<br>sudo rm /usr/bin/python<br>3. 建立python到python3.6新的软链接<br>sudo ln -s /usr/bin/python3.6 /usr/bin/python<br>4. ubuntu 安装pip：直接安装python3版本pip<br>sudo apt-get install python3-pip     ---这里也有个小坑！如果你写的是python3-pip 执行安装后，如果系统自带了python3.5，其实pip这时是装在了python3.5环境下了！！！<br>sudo apt-get install python3.6-pip   ---正确的指定方式，应该把小版本号也加上！<br>​5. 建立pip到pip3的软连接<br>sudo ln -s /usr/bin/pip3 /usr/bin/pip<br>​</p> <p>如果执行apt-get install python3.6-pip 报错<br>则安装新的pip<br>curl <a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="noopener noreferrer">https://bootstrap.pypa.io/get-pip.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> -o get-pip.py<br>如果安装到python下就是<br>python get-pip.py --force-reinstall<br>如果安装到python3下就是<br>python3 get-pip.py --force-reinstall<br>成功<br>但这时，安装的pip是一个新的pip，替代了之前镜像中自带的pip中已经下好的东西<br>现在的pip是一个全新的环境，需要自己全部添加需要的环境<br>​<br></p> <hr> <p>撒花🎉<br>希望可以帮助到大家<br>不好之处多多包涵</p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=docker" title="标签">#docker</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/04/02, 11:19:25</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/9e241d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">使用PE微盘制作启动U盘变成两个盘符后，恢复原始状态</div></a> <a href="/pages/243aae/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Git基本操作</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/9e241d/" class="prev">使用PE微盘制作启动U盘变成两个盘符后，恢复原始状态</a></span> <span class="next"><a href="/pages/243aae/">Git基本操作</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:isgangzi@163.com" title="Email" target="_blank" class="iconfont icon-youjian"></a><a href="https://www.yuque.com/weig" title="语雀" target="_blank" class="iconfont icon-yuque"></a><a href="https://isgangzi.gitee.io/love/" title="吾爱静茹" target="_blank" class="iconfont icon-youtube"></a><a href="https://github.com/isgangzi" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://blog.csdn.net/qq_33188180" title="CSDN" target="_blank" class="iconfont icon-csdn"></a></div> <div class="busuanzi"><span id="busuanzi_container_site_pv" style="display:none">
    本站总访问量
    <span id="busuanzi_value_site_pv"></span>次
    <span class="post-meta-divider">|</span></span> <span id="busuanzi_container_site_uv" style="display:none">
    本站访客数
    <span id="busuanzi_value_site_uv"></span>人
  </span></div> 
    Copyright © 2021-2022
    <span>Gang zi | <a href="https://github.com/isgangzi/weigBlog/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li></ul></div> <div title="选择主题色" class="button blur theme-mode-but iconfont icon-qiehuan"><ul class="select-box" style="display:none;"><li class="iconfont"><sub class="theme-select-block" style="background-color:#3eaf7c;"></sub> <span>生命绿</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#D59C12;"></sub> <span>收获黄</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#3498DB;"></sub> <span>天空蓝</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#E74C3C;"></sub> <span>激情红</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#8e44ad;"></sub> <span>高贵紫</span></li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.45f0dd8b.js" defer></script><script src="/assets/js/3.f2544ac4.js" defer></script><script src="/assets/js/4.62e5e232.js" defer></script><script src="/assets/js/21.ad4f7782.js" defer></script>
  </body>
</html>
